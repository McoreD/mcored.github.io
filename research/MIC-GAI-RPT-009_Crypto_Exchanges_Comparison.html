<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AusCrypto Compass: Exchange Analysis</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: Warm Neutrals -->
    <!-- 
         Background: Stone-50 (#fafaf9)
         Surface: White (#ffffff)
         Text Primary: Stone-800 (#292524)
         Text Secondary: Stone-500 (#78716c)
         Accent Safe: Emerald-600 (For high stability)
         Accent Warn: Amber-500 (For operational risks)
         Accent Critical: Rose-500 (For overzealous bans)
         Chart Colors: Muted Earth Tones
    -->

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            100: '#f5f5f4',
                            200: '#e7e5e4',
                            800: '#292524',
                            900: '#1c1917',
                        }
                    }
                }
            }
        }
    </script>

    <!-- Chart Container Styles (Strict Adherence to Requirements) -->
    <style>
        body {
            background-color: #fafaf9; /* stone-50 */
            color: #292524; /* stone-800 */
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width constraint */
            margin-left: auto;
            margin-right: auto;
            height: 350px; /* Base height */
            max-height: 400px;
        }

        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Custom Scrollbar for text panels */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }
        
        .nav-item.active {
            border-bottom: 2px solid #292524;
            color: #292524;
            font-weight: 600;
        }
        .nav-item {
            color: #78716c;
            transition: all 0.2s;
        }
        .nav-item:hover {
            color: #44403c;
        }
    </style>

    <!-- Application Structure Plan:
         The app uses a Dashboard metaphor. 
         1. Header: Sets the context of "Safety vs. Usability".
         2. Navigation: Tabs to switch between analytical lenses (Landscape, Compliance, Operations, Sentiment).
         3. Main Content Area: Split 2/3rds Visualization, 1/3rd "Analyst Context" panel.
            - Visualizations drive the narrative. Interaction (clicks) updates the context panel.
            - Allows users to compare quantitative metrics (ban frequency) with qualitative data (UX feel).
         4. Why this structure? Users looking to switch exchanges are usually doing so because of a specific pain point (e.g., "I got banned").
            This structure allows them to jump straight to the metric that matters most to them.
    -->

    <!-- Visualization & Content Choices:
         1. Landscape (Scatter Plot): Goal: Compare. Method: Chart.js Scatter. X=Ease of Use, Y=Account Stability.
            Justification: Best way to see outliers (Swyftx = Easy but Risky, Kraken = Easy and Stable).
         2. Friction (Radar Chart): Goal: Compare/Organize. Method: Chart.js Radar. Categories: Source of Wealth, Re-KYC, Withdrawal Holds.
            Justification: Visualizes the "shape" of the regulatory burden.
         3. Operations (Grid/Cards): Goal: Inform. Method: HTML/JS Grid.
            Justification: Binary data (PayID yes/no) reads best in a clean list/card format.
         4. Sentiment (Stacked Bar): Goal: Relationships. Method: Chart.js Bar.
            Justification: Breaks down *why* people complain (UI vs Bans).
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Hero / Header -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
                <div>
                    <h1 class="text-2xl font-bold tracking-tight text-stone-900">AusCrypto Compass</h1>
                    <p class="text-sm text-stone-500 mt-1">Navigating Stability, Compliance, and UX in Australian Exchanges</p>
                </div>
                <div class="mt-4 sm:mt-0 text-right">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-stone-100 text-stone-800">
                        Updated: 2025 Market Data
                    </span>
                </div>
            </div>
            
            <!-- Navigation Tabs -->
            <nav class="flex space-x-8 mt-6 overflow-x-auto pb-1" aria-label="Tabs">
                <button onclick="switchTab('landscape')" id="tab-landscape" class="nav-item active whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm">
                    The Stability Matrix
                </button>
                <button onclick="switchTab('friction')" id="tab-friction" class="nav-item whitespace-nowrap py-2 px-1 border-b-2 border-transparent font-medium text-sm">
                    Regulatory Friction
                </button>
                <button onclick="switchTab('operations')" id="tab-operations" class="nav-item whitespace-nowrap py-2 px-1 border-b-2 border-transparent font-medium text-sm">
                    Fiat & Operations
                </button>
                <button onclick="switchTab('sentiment')" id="tab-sentiment" class="nav-item whitespace-nowrap py-2 px-1 border-b-2 border-transparent font-medium text-sm">
                    User Sentiment
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        
        <!-- Section: The Stability Matrix (Scatter Plot) -->
        <section id="section-landscape" class="block animate-fade-in">
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-stone-900">Market Landscape: Usability vs. Account Safety</h2>
                <p class="mt-2 text-stone-600 max-w-3xl">
                    This matrix identifies the "Sweet Spot" for Australian users. We map exchanges based on <strong>User Friendliness</strong> (UI quality, App speed, AUD integration) against <strong>Account Stability</strong> (Likelihood of random bans, intrusive Source of Wealth checks, or frozen funds).
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Chart Area -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-sm font-semibold text-stone-500 uppercase tracking-wider">Comparative Matrix</h3>
                        <div class="flex space-x-2 text-xs text-stone-500">
                            <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-emerald-500 mr-1"></span> Ideal</span>
                            <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-rose-500 mr-1"></span> High Friction</span>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="landscapeChart"></canvas>
                    </div>
                    <p class="text-xs text-stone-400 mt-4 text-center">Click a bubble to reveal detailed analysis.</p>
                </div>

                <!-- Info/Context Panel -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-6 flex flex-col h-full">
                    <h3 class="text-lg font-bold text-stone-900 mb-2" id="landscape-title">Select an Exchange</h3>
                    <div id="landscape-content" class="text-stone-600 text-sm space-y-4 custom-scroll overflow-y-auto flex-grow">
                        <p>Interact with the chart to analyze specific exchanges.</p>
                        <p><strong>The "Danger Zone":</strong> High usability but low stability implies a platform that is easy to join but quick to freeze funds under regulatory pressure (e.g., Swyftx).</p>
                        <p><strong>The "Safe Haven":</strong> High stability and high usability (e.g., Kraken) represents the best balance for compliant Australian traders.</p>
                    </div>
                    <div class="mt-4 pt-4 border-t border-stone-100">
                        <div id="landscape-stats" class="grid grid-cols-2 gap-4 hidden">
                            <div>
                                <span class="block text-xs text-stone-500">Ban Risk</span>
                                <span class="block text-sm font-bold" id="stat-risk">-</span>
                            </div>
                            <div>
                                <span class="block text-xs text-stone-500">AUD Ramp</span>
                                <span class="block text-sm font-bold" id="stat-ramp">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Regulatory Friction (Radar Chart) -->
        <section id="section-friction" class="hidden animate-fade-in">
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-stone-900">Regulatory Friction Profile</h2>
                <p class="mt-2 text-stone-600 max-w-3xl">
                    "Overzealous compliance" manifests as intrusive questions and frozen withdrawals. This chart breaks down <em>how</em> exchanges annoy users. Low scores are better (less friction). Compare the "Swyftx Pattern" (high re-KYC) against international standards.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Chart Area -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <div class="chart-container">
                        <canvas id="frictionChart"></canvas>
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <h3 class="text-lg font-bold text-stone-900 mb-4">Friction Factors</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-stone-100 text-stone-600 font-bold text-xs">1</span>
                            <div class="ml-3">
                                <p class="text-sm font-medium text-stone-900">Source of Wealth (SoW) Checks</p>
                                <p class="text-xs text-stone-500 mt-1">Demanding payslips or bank statements randomly. Australian-domiciled brokers (Swyftx, CoinSpot) are under immense pressure to do this frequently.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-stone-100 text-stone-600 font-bold text-xs">2</span>
                            <div class="ml-3">
                                <p class="text-sm font-medium text-stone-900">Random Re-KYC</p>
                                <p class="text-xs text-stone-500 mt-1">Freezing an active account to demand a new selfie or ID scan. High frequency in "Broker" models.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-stone-100 text-stone-600 font-bold text-xs">3</span>
                            <div class="ml-3">
                                <p class="text-sm font-medium text-stone-900">Operational Restrictions</p>
                                <p class="text-xs text-stone-500 mt-1">Loss of AUD pairs or deposit methods due to banking partners cutting ties (Common with Binance/Bybit).</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section: Operations (Grid) -->
        <section id="section-operations" class="hidden animate-fade-in">
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-stone-900">Fiat Operations & Reliability</h2>
                <p class="mt-2 text-stone-600 max-w-3xl">
                    A user-friendly UI means nothing if you can't deposit AUD instantly. This grid highlights operational reliability, specifically regarding PayID (Osko) and banking partner stability.
                </p>
            </div>

            <!-- Dynamic Grid generated by JS -->
            <div id="operations-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards injected here -->
            </div>
        </section>

        <!-- Section: Sentiment (Stacked Bar) -->
        <section id="section-sentiment" class="hidden animate-fade-in">
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-stone-900">Community Sentiment Analysis</h2>
                <p class="mt-2 text-stone-600 max-w-3xl">
                    Analysis of Reddit, Trustpilot, and ProductReview.com.au data. We distinguish between "UI Complaints" (minor) and "Account Locks/Bans" (critical).
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <div class="chart-container">
                        <canvas id="sentimentChart"></canvas>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <h3 class="text-lg font-bold text-stone-900 mb-4">Support Responsiveness</h3>
                    <div class="space-y-6">
                        <div>
                            <div class="flex justify-between text-sm font-medium mb-1">
                                <span>Kraken Support</span>
                                <span class="text-emerald-600">High</span>
                            </div>
                            <div class="w-full bg-stone-100 rounded-full h-2">
                                <div class="bg-emerald-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                            <p class="text-xs text-stone-500 mt-1">Live chat is responsive; handles compliance tickets transparently.</p>
                        </div>
                        
                        <div>
                            <div class="flex justify-between text-sm font-medium mb-1">
                                <span>Swyftx Support</span>
                                <span class="text-amber-600">Mixed</span>
                            </div>
                            <div class="w-full bg-stone-100 rounded-full h-2">
                                <div class="bg-amber-500 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                            <p class="text-xs text-stone-500 mt-1">Fast for general queries, but powerless/silent during compliance freezes.</p>
                        </div>

                        <div>
                            <div class="flex justify-between text-sm font-medium mb-1">
                                <span>Coinbase Support</span>
                                <span class="text-stone-600">Low</span>
                            </div>
                            <div class="w-full bg-stone-100 rounded-full h-2">
                                <div class="bg-stone-400 h-2 rounded-full" style="width: 35%"></div>
                            </div>
                            <p class="text-xs text-stone-500 mt-1">Notorious for automated loops and lack of human escalation.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-50 border-t border-stone-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-xs text-stone-400">
                Data synthesized from public regulatory filings, user review aggregation (Trustpilot/Reddit), and exchange feature lists. This is an interactive analysis tool, not financial advice.
            </p>
        </div>
    </footer>

    <!-- Logic -->
    <script>
        // --- Data Layer ---
        const exchangeData = {
            kraken: {
                name: "Kraken",
                color: "#10b981", // Emerald 500
                desc: "Ranked as the <strong>most balanced</strong> option. Kraken offers native Osko (Instant AUD) support and maintains a strong relationship with Australian regulators without being overly intrusive. While they do have compliance checks, users report they are handled transparently rather than resulting in instant bans.",
                stats: { risk: "Low", ramp: "Instant (Osko)" },
                details: "Global exchange with a dedicated Australian entity. Avoids the 'de-banking' issues faced by Binance."
            },
            swyftx: {
                name: "Swyftx",
                color: "#f43f5e", // Rose 500
                desc: "Excellent UI and very beginner-friendly, but suffers from <strong>'Overzealous Compliance.'</strong> As a broker (middleman), they are highly sensitive to banking partner pressure. This results in a high frequency of 'random' account closures and aggressive Source of Wealth requests compared to direct exchanges.",
                stats: { risk: "High", ramp: "Instant (Osko)" },
                details: "Broker model. High fees spread. Frequent reports of frozen funds triggered by small deposits."
            },
            binance: {
                name: "Binance Aus",
                color: "#eab308", // Yellow 500
                desc: "High operational risk. While the UI is powerful, Binance frequently loses its AUD fiat on-ramps due to clashes with regulators (ASIC) and banks. Users often find themselves unable to withdraw AUD directly.",
                stats: { risk: "Operational", ramp: "Unstable" },
                details: "Derivatives banned in Aus. PayID support is intermittent. High regulatory scrutiny."
            },
            coinbase: {
                name: "Coinbase",
                color: "#3b82f6", // Blue 500
                desc: "Very safe regarding funds storage, but <strong>rigid</strong> compliance. Being US-based, they apply American standards to Australian users. If you get flagged, support is notoriously difficult to reach.",
                stats: { risk: "Moderate", ramp: "Standard" },
                details: "Good app, expensive fees. Support is mostly automated bots."
            },
            bybit: {
                name: "Bybit",
                color: "#a8a29e", // Stone 400
                desc: "The go-to for traders seeking features that are restricted elsewhere, but operates in a grey area in Australia. Very poor fiat on-ramps; mostly relies on P2P or third-party processors which trigger bank fraud alerts.",
                stats: { risk: "High (Reg)", ramp: "Poor (P2P)" },
                details: "Best for interface, worst for direct AUD bank transfers."
            }
        };

        // --- State Management ---
        let currentTab = 'landscape';
        let charts = {}; // Store chart instances

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initLandscapeChart();
            initFrictionChart();
            renderOperationsGrid();
            initSentimentChart();
            
            // Initial Selection simulation
            updateLandscapePanel('kraken');
        });

        // --- Tab Logic ---
        function switchTab(tabId) {
            // Update UI State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active', 'border-b-2', 'border-stone-800', 'text-stone-800'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.add('border-transparent'));
            
            const btn = document.getElementById(`tab-${tabId}`);
            btn.classList.add('active', 'border-b-2', 'border-stone-800', 'text-stone-800');
            btn.classList.remove('border-transparent');

            // Show/Hide Sections
            ['landscape', 'friction', 'operations', 'sentiment'].forEach(section => {
                const el = document.getElementById(`section-${section}`);
                if (section === tabId) {
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });

            currentTab = tabId;
        }

        // --- Chart 1: The Stability Matrix (Scatter) ---
        function initLandscapeChart() {
            const ctx = document.getElementById('landscapeChart').getContext('2d');
            
            charts.landscape = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [
                        { label: 'Kraken', data: [{x: 8.5, y: 9}], backgroundColor: exchangeData.kraken.color, pointRadius: 12, pointHoverRadius: 15 },
                        { label: 'Swyftx', data: [{x: 9, y: 3}], backgroundColor: exchangeData.swyftx.color, pointRadius: 12, pointHoverRadius: 15 },
                        { label: 'Binance', data: [{x: 6, y: 4}], backgroundColor: exchangeData.binance.color, pointRadius: 10, pointHoverRadius: 13 },
                        { label: 'Coinbase', data: [{x: 7.5, y: 7}], backgroundColor: exchangeData.coinbase.color, pointRadius: 10, pointHoverRadius: 13 },
                        { label: 'Bybit', data: [{x: 8, y: 2}], backgroundColor: exchangeData.bybit.color, pointRadius: 8, pointHoverRadius: 11 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: { display: true, text: 'User Friendliness & Features' },
                            min: 0, max: 10,
                            grid: { color: '#e7e5e4' }
                        },
                        y: {
                            title: { display: true, text: 'Account Stability (Low Ban Risk)' },
                            min: 0, max: 10,
                            grid: { color: '#e7e5e4' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label;
                                }
                            }
                        },
                        legend: { display: false } // Custom legend handled in UI
                    },
                    onClick: (e, activeElements) => {
                        if (activeElements.length > 0) {
                            const datasetIndex = activeElements[0].datasetIndex;
                            const label = charts.landscape.data.datasets[datasetIndex].label.toLowerCase();
                            // Normalize label for key lookup
                            const key = label.includes('binance') ? 'binance' : label;
                            updateLandscapePanel(key);
                        }
                    }
                }
            });
        }

        function updateLandscapePanel(key) {
            const data = exchangeData[key];
            if (!data) return;

            document.getElementById('landscape-title').innerText = data.name;
            document.getElementById('landscape-content').innerHTML = `
                <p>${data.desc}</p>
                <div class="mt-4 p-3 bg-stone-50 rounded border border-stone-200">
                    <p class="text-xs font-semibold uppercase text-stone-400">Key Insight</p>
                    <p>${data.details}</p>
                </div>
            `;
            
            document.getElementById('stat-risk').innerText = data.stats.risk;
            document.getElementById('stat-risk').className = `block text-sm font-bold ${data.stats.risk.includes('High') ? 'text-rose-600' : 'text-emerald-600'}`;
            
            document.getElementById('stat-ramp').innerText = data.stats.ramp;
            document.getElementById('landscape-stats').classList.remove('hidden');
        }

        // --- Chart 2: Friction (Radar) ---
        function initFrictionChart() {
            const ctx = document.getElementById('frictionChart').getContext('2d');
            
            charts.friction = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['SoW Checks', 'Random Re-KYC', 'Deposit Holds', 'Support Delays', 'Bank Blocks'],
                    datasets: [
                        {
                            label: 'Swyftx (Broker)',
                            data: [9, 8, 7, 5, 8],
                            borderColor: '#f43f5e',
                            backgroundColor: 'rgba(244, 63, 94, 0.2)',
                            borderWidth: 2
                        },
                        {
                            label: 'Kraken (Direct)',
                            data: [4, 3, 2, 2, 3],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.2)',
                            borderWidth: 2
                        },
                        {
                            label: 'Binance (Global)',
                            data: [5, 4, 3, 7, 9], // High bank blocks
                            borderColor: '#eab308',
                            backgroundColor: 'rgba(234, 179, 8, 0.2)',
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            min: 0,
                            max: 10,
                            ticks: { display: false },
                            grid: { color: '#e7e5e4' },
                            pointLabels: { font: { size: 11, family: 'Inter' } }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: (ctx) => ctx[0].label,
                                label: (ctx) => `${ctx.dataset.label}: ${ctx.raw}/10 Intensity`
                            }
                        }
                    }
                }
            });
        }

        // --- Operations Grid Generation ---
        function renderOperationsGrid() {
            const grid = document.getElementById('operations-grid');
            const opsData = [
                { id: 'kraken', payid: true, aud_pairs: true, note: 'Native Osko. Most reliable.' },
                { id: 'swyftx', payid: true, aud_pairs: true, note: 'Reliable ramps, but frequent holds.' },
                { id: 'coinbase', payid: true, aud_pairs: false, note: 'Converts to USD often. Slow.' },
                { id: 'binance', payid: false, aud_pairs: false, note: 'Often disabled. High friction.' },
                { id: 'bybit', payid: false, aud_pairs: false, note: 'Third-party only (Banxa/Moonpay).' }
            ];

            grid.innerHTML = opsData.map(op => {
                const ex = exchangeData[op.id];
                return `
                <div class="bg-white rounded-lg shadow-sm border border-stone-200 p-5 hover:border-stone-400 transition-colors">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-stone-900">${ex.name}</h3>
                        <div class="w-3 h-3 rounded-full" style="background-color: ${ex.color}"></div>
                    </div>
                    <div class="space-y-3">
                        <div class="flex justify-between text-sm">
                            <span class="text-stone-500">PayID / Osko</span>
                            <span class="${op.payid ? 'text-emerald-600 font-semibold' : 'text-rose-500 font-semibold'}">
                                ${op.payid ? '✓ Supported' : '✗ Unreliable/No'}
                            </span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-stone-500">AUD Pairs</span>
                            <span class="${op.aud_pairs ? 'text-emerald-600' : 'text-amber-500'}">
                                ${op.aud_pairs ? 'Direct' : 'Conversion'}
                            </span>
                        </div>
                        <div class="pt-2 text-xs text-stone-500 italic border-t border-stone-100">
                            "${op.note}"
                        </div>
                    </div>
                </div>
                `;
            }).join('');
        }

        // --- Chart 4: Sentiment (Stacked Bar) ---
        function initSentimentChart() {
            const ctx = document.getElementById('sentimentChart').getContext('2d');
            
            charts.sentiment = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Swyftx', 'Kraken', 'Binance', 'Coinbase'],
                    datasets: [
                        {
                            label: 'Account Bans/Freezes',
                            data: [65, 15, 45, 30], // Mock data based on research patterns
                            backgroundColor: '#f43f5e'
                        },
                        {
                            label: 'UI/Bug Complaints',
                            data: [10, 10, 25, 20],
                            backgroundColor: '#fbbf24'
                        },
                        {
                            label: 'Verification Speed',
                            data: [25, 5, 30, 50],
                            backgroundColor: '#a8a29e'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true, grid: { display: false } },
                        y: { 
                            stacked: true, 
                            title: { display: true, text: 'Percentage of Negative Reviews' },
                            grid: { color: '#e7e5e4' }
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `${ctx.dataset.label}: ${ctx.raw}%`
                            }
                        }
                    }
                }
            });
        }

    </script>
</body>
</html>